<!DOCTYPE html>
<html lang="ar">
<head>
    <link href="https://vjs.zencdn.net/8.10.0/video-js.css" rel="stylesheet" />
    <style>
        .video-container { width: 100%; max-width: 900px; margin: auto; }
        #my-video { width: 100%; height: auto; aspect-ratio: 16/9; }
    </style>
</head>
<body>

<div class="video-container">
    <video id="my-video" class="video-js vjs-default-skin" controls preload="auto" data-setup='{}'>
        <p class="vjs-no-js">للمشاهدة، يرجى تفعيل JavaScript</p>
    </video>
</div>

<script src="https://vjs.zencdn.net/8.10.0/video.min.js"></script>
<script>
    async function setupPlayer(channelName) {
        try {
            // ملاحظة: قد تحتاج لوسيط (Proxy) لتجنب حظر CORS في المتصفح
            const response = await fetch(`https://kick.com/api/v1/channels/${channelName}`);
            const data = await response.json();
            
            // استخراج رابط البث المباشر
            const streamUrl = data.playback_url; 

            if (streamUrl) {
                var player = videojs('my-video');
                player.src({
                    src: streamUrl,
                    type: 'application/x-mpegURL' // تحديد نوع البث m3u8
                });
                player.play();
            }
        } catch (error) {
            console.error("خطأ في جلب البث:", error);
        }
    }

    // استبدل 'اسم_القناة' بالاسم الفعلي
    setupPlayer('sxb');
</script>
</body>
</html>
